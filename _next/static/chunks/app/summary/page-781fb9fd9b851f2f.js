(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(5155);a(2115);var n=a(9708),r=a(2085),l=a(9434);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:r,asChild:c=!1,...d}=e,i=c?n.DX:"button";return(0,s.jsx)(i,{"data-slot":"button",className:(0,l.cn)(o({variant:a,size:r,className:t})),...d})}},2183:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5155),n=a(2115),r=a(285);function l(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,i]=(0,n.useState)(0),[m,x]=(0,n.useState)({Cash:0,Venmo:0,Zelle:0,PayPal:0,"Ashraf Personal":0,"Samy Personal":0});(0,n.useEffect)(()=>{let e=localStorage.getItem("jerseySales"),a=localStorage.getItem("initialInventory"),s=localStorage.getItem("jerseyInventory");if(e){let a=JSON.parse(e);t(a),i(a.reduce((e,t)=>e+t.priceSold,0)),x(a.reduce((e,t)=>(e[t.paymentMethod]=(e[t.paymentMethod]||0)+t.priceSold,e),{Cash:0,Venmo:0,Zelle:0,PayPal:0,"Ashraf Personal":0,"Samy Personal":0}))}a&&l(JSON.parse(a)),s&&c(JSON.parse(s))},[]);let h=o.reduce((e,t)=>{let a=t.category||"Unknown";return e[a]||(e[a]=[]),e[a].push(t),e},{}),u=a.reduce((e,t)=>{let a=o.find(e=>e.id===t.id),s=a?a.count:0;return e+(t.count-s)},0);return(0,s.jsx)("main",{className:"min-h-screen py-12",children:(0,s.jsxs)("div",{className:"container-custom",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-heading mb-4",children:"Event Summary"}),(0,s.jsx)("p",{className:"text-body text-muted-foreground",children:"Complete overview of your jersey sales event"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12 max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"card-elevated text-center rounded-lg",children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("h2",{className:"text-subheading mb-4",children:"Total Revenue"}),(0,s.jsxs)("div",{className:"text-4xl font-bold text-green-400 mb-2",children:["$",d.toFixed(2)]}),(0,s.jsxs)("div",{className:"text-body text-muted-foreground",children:["From ",e.length," sales"]})]})}),(0,s.jsx)("div",{className:"card-elevated text-center rounded-lg",children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("h2",{className:"text-subheading mb-4",children:"Items Sold"}),(0,s.jsx)("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:u}),(0,s.jsx)("div",{className:"text-body text-muted-foreground",children:"Total jerseys sold"})]})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-subheading mb-6 text-center",children:"Payment Breakdown"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-6xl mx-auto",children:Object.entries(m).map(e=>{let[t,a]=e;return(0,s.jsx)("div",{className:"card-elevated text-center rounded-lg",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-body font-semibold mb-2",children:t}),(0,s.jsxs)("div",{className:"text-xl font-bold",children:["$",a.toFixed(2)]})]})},t)})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-subheading mb-6 text-center",children:"Remaining Inventory"}),(0,s.jsx)("div",{className:"space-y-6 max-w-6xl mx-auto",children:Object.entries(h).map(e=>{let[t,a]=e,n=a.reduce((e,t)=>e+t.count,0);return(0,s.jsxs)("div",{className:"card-elevated rounded-lg",children:[(0,s.jsx)("div",{className:"text-center p-6",children:(0,s.jsxs)("h3",{className:"text-subheading flex items-center justify-center gap-4",children:[(0,s.jsx)("span",{children:t}),(0,s.jsxs)("span",{className:"text-lg font-normal text-muted-foreground",children:["(",n," remaining)"]})]})}),(0,s.jsx)("div",{className:"p-6 pt-0",children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:a.map(e=>(0,s.jsxs)("div",{className:"text-center p-4 bg-secondary/30 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-body font-semibold mb-1",children:["Size ",e.size]}),(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.count})]},e.id))})})]},t)})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-subheading mb-6 text-center",children:"Recent Sales"}),(0,s.jsx)("div",{className:"card-elevated max-w-6xl mx-auto rounded-lg",children:(0,s.jsx)("div",{className:"p-6",children:e.length>0?(0,s.jsxs)("div",{className:"overflow-auto max-h-96",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-border",children:[(0,s.jsx)("th",{className:"text-left p-3 text-body font-semibold",children:"Category"}),(0,s.jsx)("th",{className:"text-left p-3 text-body font-semibold",children:"Size"}),(0,s.jsx)("th",{className:"text-left p-3 text-body font-semibold",children:"Price"}),(0,s.jsx)("th",{className:"text-left p-3 text-body font-semibold",children:"Payment"}),(0,s.jsx)("th",{className:"text-left p-3 text-body font-semibold",children:"Time"})]})}),(0,s.jsx)("tbody",{children:e.slice(-10).reverse().map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-border/50",children:[(0,s.jsx)("td",{className:"p-3 text-body",children:e.category||"Unknown"}),(0,s.jsx)("td",{className:"p-3 text-body",children:e.size}),(0,s.jsxs)("td",{className:"p-3 text-body font-semibold",children:["$",e.priceSold.toFixed(2)]}),(0,s.jsx)("td",{className:"p-3 text-body",children:e.paymentMethod}),(0,s.jsx)("td",{className:"p-3 text-body",children:new Date(e.timestamp).toLocaleTimeString()})]},t))})]}),e.length>10&&(0,s.jsxs)("div",{className:"text-center mt-4 text-muted-foreground text-body",children:["Showing last 10 sales of ",e.length," total"]})]}):(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,s.jsx)("div",{className:"text-body mb-2",children:"No sales recorded yet"}),(0,s.jsx)("div",{className:"text-sm",children:"Start selling to see transaction details here"})]})})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-4 max-w-4xl mx-auto",children:[(0,s.jsx)(r.$,{variant:"outline",onClick:()=>window.location.href="/sales",className:"px-8 py-4 h-auto text-body",children:"Back to Sales"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)(r.$,{onClick:()=>{let t=localStorage.getItem("eventInfo"),s=t?JSON.parse(t):{name:"Untitled Event",date:new Date().toISOString().split("T")[0],startTime:new Date().toISOString()},n="data:text/csv;charset=utf-8,";n+="EVENT SUMMARY\n",n+="Event Name,".concat(s.name,"\n"),n+="Event Date,".concat(new Date(s.date).toLocaleDateString(),"\n"),n+="Start Time,".concat(new Date(s.startTime).toLocaleString(),"\n"),n+="Export Time,".concat(new Date().toLocaleString(),"\n"),n+="Total Revenue,$".concat(d.toFixed(2),"\n"),n+="Total Items Sold,".concat(u,"\n"),n+="Total Transactions,".concat(e.length,"\n\n"),n+="PAYMENT BREAKDOWN\n",n+="Payment Method,Amount\n",Object.entries(m).forEach(e=>{let[t,a]=e;n+="".concat(t,",$").concat(a.toFixed(2),"\n")}),n+="\n",n+="INVENTORY TRACKING\n",n+="Category,Size,Initial Count,Remaining Count,Sold Count\n",a.forEach(e=>{let t=o.find(t=>t.id===e.id),a=t?t.count:0,s=e.count-a;n+="".concat(e.category||"Unknown",",").concat(e.size,",").concat(e.count,",").concat(a,",").concat(s,"\n")}),n+="\n",n+="SALES DETAILS\n",n+="Time,Category,Jersey,Size,Original Price,Discount Type,Discount Value,Final Price,Payment Method\n",e.forEach(e=>{let t=e.discountType?65:e.priceSold;n+="".concat(new Date(e.timestamp).toLocaleString(),",").concat(e.category||"Unknown",",").concat(e.design,",").concat(e.size,",$").concat(t.toFixed(2),",").concat(e.discountType||"None",",").concat(e.discountValue||0,",$").concat(e.priceSold.toFixed(2),",").concat(e.paymentMethod,"\n")});let r=encodeURI(n),l=document.createElement("a");l.setAttribute("href",r);let c=s.name.replace(/[^a-z0-9]/gi,"-").toLowerCase(),i=s.date;l.setAttribute("download","".concat(c,"-").concat(i,"-sales-report.csv")),document.body.appendChild(l),l.click(),document.body.removeChild(l)},style:{background:"#2563eb",color:"#ffffff"},className:"hover:bg-blue-700 px-8 py-4 h-auto text-body transition-all duration-200",children:"Export Complete CSV"}),(0,s.jsx)(r.$,{onClick:()=>{confirm("Are you sure you want to start a new event? This will clear all sales data.")&&(localStorage.removeItem("jerseySales"),localStorage.removeItem("initialInventory"),localStorage.removeItem("jerseyInventory"),window.location.href="/")},className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground px-8 py-4 h-auto text-body",children:"Start New Event"})]})]})]})})}},4211:(e,t,a)=>{Promise.resolve().then(a.bind(a,2183))},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(2596),n=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,441,684,358],()=>t(4211)),_N_E=e.O()}]);